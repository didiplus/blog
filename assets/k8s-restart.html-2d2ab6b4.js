import{ab as e,G as a,H as s,ad as r}from"./framework-b31a425c.js";const n={},t=r(`<h1 id="重启kubernetes集群" tabindex="-1"><a class="header-anchor" href="#重启kubernetes集群" aria-hidden="true">#</a> 重启Kubernetes集群</h1><p>Kubernetes集群的设计目标是setup-and-run-forever，然而许多学习者使用自己笔记本上的虚拟机安装K8S集群用于学习，这就必然会出现反复重启集群所在虚拟机的情况。本文针对重启后会出现一些的一些令人困惑的问题做了解释。</p><h2 id="worker节点不能启动" tabindex="-1"><a class="header-anchor" href="#worker节点不能启动" aria-hidden="true">#</a> Worker节点不能启动</h2><p>Master 节点的 IP 地址变化，导致 worker 节点不能启动。请重装集群，并确保所有节点都有固定内网 IP 地址。</p><h2 id="许多pod一直crash或不能正常访问" tabindex="-1"><a class="header-anchor" href="#许多pod一直crash或不能正常访问" aria-hidden="true">#</a> 许多Pod一直Crash或不能正常访问</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>kubectl get pods --all-namespaces
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>重启后会发现许多 Pod 不在 Running 状态，此时，请使用如下命令删除这些状态不正常的 Pod。通常，您的 Pod 如果是使用 Deployment、StatefulSet 等控制器创建的，kubernetes 将创建新的 Pod 作为替代，重新启动的 Pod 通常能够正常工作。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>kubectl delete pod <span class="token operator">&lt;</span>pod-name<span class="token operator">&gt;</span> <span class="token parameter variable">-n</span> <span class="token operator">&lt;</span>pod-namespece<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="其他问题" tabindex="-1"><a class="header-anchor" href="#其他问题" aria-hidden="true">#</a> 其他问题</h2><p>请参考本文结尾的方式联系 kuboard 群主，协助您解决重启 kubernetes 集群后的问题</p>`,10),d=[t];function o(i,c){return a(),s("div",null,d)}const p=e(n,[["render",o],["__file","k8s-restart.html.vue"]]);export{p as default};
