import{ab as l,G as c,H as d,E as e,S as n,N as a,ac as r,ad as o,W as t}from"./framework-894cff3a.js";const p={},u=e("h1",{id:"_3-2-3、-名称",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-2-3、-名称","aria-hidden":"true"},"#"),n(" 3.2.3、 名称")],-1),h=e("code",null,"name",-1),m=e("code",null,"UID",-1),_={href:"https://github.com/kubernetes/community/blob/master/contributors/design-proposals/architecture/identifiers.md",target:"_blank",rel:"noopener noreferrer"},b=e("code",null,"name",-1),k=e("code",null,"UID",-1),v=o('<ul><li><a href="#Names">Names</a></li><li><a href="#UIDs">UIDs</a></li></ul><h2 id="names" tabindex="-1"><a class="header-anchor" href="#names" aria-hidden="true">#</a> Names</h2><p>可以通过 <code>namespace</code> + <code>name</code> 唯一性地确定一个 RESTFUL 对象，例如：</p><p><code>/api/v1/namespaces/{namespace}/pods/{name}</code></p>',4),f=e("p",null,[n("同一个名称空间下，同一个类型的对象，可以通过 "),e("code",null,"name"),n(" 唯一性确定。如果删除该对象之后，可以再重新创建一个同名对象。")],-1),g=e("p",null,"下面是三种广泛使用的资源名称的限制类型：",-1),x=e("h3",{id:"dns-subdomain-names",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#dns-subdomain-names","aria-hidden":"true"},"#"),n(" DNS Subdomain Names")],-1),I={href:"https://tools.ietf.org/html/rfc1123",target:"_blank",rel:"noopener noreferrer"},N=e("ul",null,[e("li",null,"最长不超过 253个字符"),e("li",null,[n("必须由小写字母、数字、减号 "),e("code",null,"-"),n("、小数点 "),e("code",null,"."),n(" 组成")]),e("li",null,"由字母开始"),e("li",null,"由字母结束")],-1),y=e("h3",{id:"dns-label-names",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#dns-label-names","aria-hidden":"true"},"#"),n(" DNS Label Names")],-1),D={href:"https://tools.ietf.org/html/rfc1123",target:"_blank",rel:"noopener noreferrer"},U=o(`<ul><li>最长不超过 63个字符</li><li>必须由小写字母、数字、减号 <code>-</code>、小数点 <code>.</code> 组成</li><li>由字母开始</li><li>由字母结束</li></ul><h3 id="path-segment-names" tabindex="-1"><a class="header-anchor" href="#path-segment-names" aria-hidden="true">#</a> Path Segment Names</h3><p>部分类型的资源要求其名称可以被编码到路径中。换句话说，名称中不能包含 <code>.</code>、<code>..</code>、<code>/</code>、<code>%</code>。</p><p>例如，下面的配置文件定义了一个 name 为 <code>nginx-demo</code> 的 Pod，该 Pod 包含一个 name 为 <code>nginx</code> 的容器：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.14.2
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>还有一部分资源类型，其名称有更多的限制要求</p></div><h2 id="uids" tabindex="-1"><a class="header-anchor" href="#uids" aria-hidden="true">#</a> UIDs</h2><p>UID 是由 Kubernetes 系统生成的，唯一标识某个 Kubernetes 对象的字符串。</p><p>Kubernetes集群中，每创建一个对象，都有一个唯一的 UID。用于区分多次创建的同名对象（如前所述，按照名字删除对象后，重新再创建同名对象时，两次创建的对象 name 相同，但是 UID 不同。）</p><p>Kubernetes 中的 UID 是全局唯一的标识符（UUIDs，符合规范 ISO/IEC 9834-8 以及 ITU-T X.667）</p>`,10);function S(E,L){const s=t("ExternalLinkIcon"),i=t("RouterLink");return c(),d("div",null,[u,e("p",null,[n("Kubernetes REST API 中，所有的对象都是通过 "),h,n(" 和 "),m,n(" 唯一性确定。查看文档 "),e("a",_,[n("identifiers design doc"),a(s)]),n(" 可了解更多关于 "),b,n(" 和 "),k,n(" 的规则。")]),v,e("p",null,[n("参考 "),a(i,{to:"/cloud/k8s/k8s-intermediate/obj/namespaces.html"},{default:r(()=>[n("名称空间")]),_:1})]),f,g,x,e("p",null,[n("绝大部分资源类型的名称必须符合 DNS subdomain 命名规则 "),e("a",I,[n("RFC 1123"),a(s)]),n("，具体如下：")]),N,y,e("p",null,[n("部分类型的资源要求其名称符合 DNS Label 的命名规则 "),e("a",D,[n("RFC 1123"),a(s)]),n("，具体如下：")]),U])}const R=l(p,[["render",S],["__file","names.html.vue"]]);export{R as default};
